import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import warnings

# Configuraci√≥n inicial
warnings.filterwarnings('ignore')
plt.style.use('seaborn')
sns.set_palette("husl")

def main():
    try:
        # Cargar datos
        print("‚è≥ Cargando datos...")
        df = pd.read_csv('flights.csv')
        print("‚úÖ Datos cargados correctamente")
        
        # Limpieza de datos
        print("\nüßπ Limpiando datos...")
        df = df.dropna()
        df = df[(df['DepDelay'] <= 300) & (df['ArrDelay'] <= 300)]
        print(f"üìä Datos finales: {df.shape[0]} filas")
        
        # An√°lisis b√°sico
        print("\nüìà An√°lisis b√°sico:")
        print(df[['DepDelay', 'ArrDelay']].describe())
        
        # Visualizaci√≥n
        plt.figure(figsize=(10, 6))
        sns.scatterplot(x='DepDelay', y='ArrDelay', data=df, alpha=0.5)
        plt.title('Relaci√≥n entre Retrasos de Salida y Llegada')
        plt.show()
        
    except Exception as e:
        print(f"‚ùå Error: {str(e)}")

if __name__ == "__main__":
    main()